<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>myPage</title>
    <link rel="stylesheet" href="../mypage.css">
    <script src="https://kit.fontawesome.com/17c882a708.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <div id="myProfileContainer">
        <div class="profile-header">
            <div class="profile-pic" style="background-image: url('../X.png');"></div>
            <div class="profile-content">
                <h1>やまぴー</h1>
                <p>好きなジャンル: ワインバー</p>
            </div>
        </div>
        <div class="profile-posts">
            <h2>･･･ 投稿 ･･･</h2>
            <div class="posts-container">
                <!-- 投稿のサンプル -->
                <div class="post" onclick="showPostDetails()">
                    <img src="../vineria.jpeg" alt="投稿画像1">
                </div>
                <div class="post">
                    <img src="../daikannyamapanda.jpeg" alt="投稿画像2">
                </div>
                <div class="post">
                    <img src="../minoya.jpeg" alt="投稿画像3">
                </div>
                <div class="post">
                    <img src="../shibata.jpeg" alt="投稿画像4">
                </div>
                <div class="post">
                    <img src="../ahirustore.webp" alt="投稿画像5">
                </div>
                <div class="post">
                    <img src="../kabi.webp" alt="投稿画像6">
                </div>
                <!-- 他の投稿も同様に追加 -->
            </div>
        </div>
    </div>

    <div class="footer">
        <button id="map" onclick="window.location.href='map.html';">
            <i class="fa-solid fa-location-dot fa-2x"></i>
            マップ
        </button>
        <button id="post">
            <i class="far fa-plus-square fa-2x"></i>
            投稿
        </button>
        <button id="find" onclick="window.location.href='find.html';">
            <i class="fa-brands fa-instagram fa-2x"></i>
            発見
        </button>
    </div>

    <div id="postDetails" style="display: none;" onclick="event.stopPropagation();">
        <button onclick="closePostDetails()" style="position: absolute; top: 10px; right: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center;">×</button>
        <h1 id="storeName">ヴィネリア・イル・パッサッジョ</h1>
        <p id="address">住所：東京都中央区日本橋浜町２丁目４９−７</p>
        <p>URL：<a id="url" href="https://www.instagram.com/vineria_il_passaggio/">https://www.instagram.com/vineria_il_passaggio/</a></p>
        <p id="genre">ジャンル：ワインバー</p>
        <p id="scene">利用シーン：カジュアル</p>
        <p id="budget">予算：5000円〜10000円</p>
        <p id="impression">おすすめポイント：<br>隠しておきたいとっておきのワインバー。東京で一番美味しくワインを飲める場所。土器で飲んだり、重心に合わせて飲んだり、理解はできないけどなぜかワインが美味しくなる。</p>
    </div>

    <!-- 投稿画面 -->
    <div id="postFormContainer" style="display: none;">
        <div id="postForm">
            <input type="text" id="storeNamePost" placeholder="店舗名" required>
            <input type="text" id="addressPost" placeholder="住所" required>
            <input type="text" id="urlPost" placeholder="URL">
            <select name="" id="genrePost" required>
                <option value="">ジャンル</option>
                <option value="焼肉">焼肉</option>
                <option value="焼き鳥">焼き鳥</option>
                <option value="寿司">寿司</option>
                <option value="居酒屋">居酒屋</option>
                <option value="お好み焼き･もんじゃ">お好み焼き･もんじゃ</option>
                <option value="ラーメン">ラーメン</option>
                <option value="カレー">カレー</option>
                <option value="フレンチ">フレンチ</option>
                <option value="イタリアン">イタリアン</option>
                <option value="日本料理">日本料理</option>
                <option value="中華料理">中華料理</option>
                <option value="韓国料理">韓国料理</option>
                <option value="アジア料理">アジア料理</option>
                <option value="エスニック料理">エスニック料理</option>
                <option value="創作料理">創作料理</option>
                <option value="ビストロ">ビストロ</option>
                <option value="スイーツ">スイーツ</option>
                <option value="カフェ･喫茶店">カフェ･喫茶店</option>
                <option value="ビアバー">ビアバー</option>
                <option value="ワインバー">ワインバー</option>
                <option value="日本酒バー">日本酒バー</option>
            </select>
            <select name="" id="scenePost" required>
                <option value="" selected>利用シーン</option>
                <option value="カジュアル">カジュアル</option>
                <option value="デート">デート</option>
                <option value="記念日">記念日</option>
                <option value="接待･会食">接待･会食</option>
                <option value="歓送迎会">歓送迎会</option>
                <option value="忘年会･新年会">忘年会･新年会</option>
            </select>
            <select name="" id="budgetPost" required>
                <option value="" selected>予算</option>
                <option value="〜1000円">〜1000円</option>
                <option value="1000円〜5000円">1000円〜5000円</option>
                <option value="5000円〜10000円">5000円〜10000円</option>
                <option value="10000円〜30000円">10000円〜30000円</option>
                <option value="30000円〜">30000円〜</option>
            </select>
            <textarea id="impressionPost" placeholder="おすすめポイント"></textarea>
            <!-- 画像アップロードのためのinput要素を追加 -->
            <div class="custom-file-upload">
                <input type="file" id="imagePost" accept="image/*" style="display:none;">
                <button id="customFileBtn">画像を追加　<i class="fa-solid fa-plus"></i></button>
                <span id="fileChosen">選択されていません</span>
            </div>
            <button id="submitPost">投稿</button>
            <button id="closePostForm"><i class="fa-solid fa-xmark"></i></button>
        </div>
    </div>
    

    <script>
        function showPostDetails() {
            document.getElementById('postDetails').style.display = 'block';
        }

        function closePostDetails() {
        document.getElementById('postDetails').style.display = 'none';
    }

    // 投稿画面の表示
    $("#post").on("click", function () {
            $("#postFormContainer").fadeIn();
        });
        $("#closePostForm").on("click", function () {
            $("#postFormContainer").fadeOut();
        });

        // <!-- 投稿フォームのセレクトボックスで値が選択されていない時のフォントカラーを設定 -->
        document.addEventListener('DOMContentLoaded', function () {
            // 投稿フォームとマップフィルター内のセレクト要素を対象にする
            var postFormSelects = document.querySelectorAll('#postForm select');
            var mapFilterSelects = document.querySelectorAll('#mapFilter select');

            function updateSelectColor(select, emptyColor, filledColor) {
                select.addEventListener('change', function () {
                    this.style.color = this.value === "" ? emptyColor : filledColor;
                });
                // 初期ロード時にも適用
                select.style.color = select.value === "" ? emptyColor : filledColor;
            }

            postFormSelects.forEach(function (select) {
                updateSelectColor(select, 'lightgray', 'black'); // 投稿フォーム用の色設定
            });

            mapFilterSelects.forEach(function (select) {
                updateSelectColor(select, 'gray', 'black'); // マップフィルター用の色設定
            });

            document.getElementById('customFileBtn').addEventListener('click', function () {
                    document.getElementById('imagePost').click();
                });

                document.getElementById('imagePost').addEventListener('change', function () {
                    var fileName = this.files[0] ? this.files[0].name : "選択されていません";
                    document.getElementById('fileChosen').textContent = fileName;
                });
        });
    </script>
</body>
</html>


